<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title data-i18n="site.title">Masjid As-Sunnah Hekinan — Bantu Pelunasan Pembelian Bangunan Untuk Masjid</title>
    <meta name="description" content="Landing page resmi Masjid As-Sunnah Hekinan. Yuk ikut berkontribusi dalam donasi pelunasan pembelian bangunan untuk masjid." data-i18n-attr='{"content":"site.desc"}'>
    <meta name="robots" content="index,follow,max-snippet:-1,max-image-preview:large,max-video-preview:-1" />
    <link rel="canonical" href="https://assunnahhekinan.org/"/>
    <link rel="sitemap" type="application/xml" href="/sitemap.xml"/>
    <meta name="theme-color" content="#0ea5e9" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: { sans: ["Inter","ui-sans-serif","system-ui","-apple-system","Segoe UI","Roboto","Noto Sans","Ubuntu","Cantarell","Helvetica Neue","Arial","sans-serif"] },
            boxShadow: { soft: "0 10px 25px -15px rgba(0,0,0,0.3)" },
          },
        },
      };
    </script>
    <style>
      html { scroll-behavior: smooth; }
      :focus-visible { outline: 3px solid #38bdf8; outline-offset: 2px; border-radius: .5rem; }
      @media print { nav, .no-print { display: none !important; } .print\:block{ display:block !important; } }

      /* Progress animation */
      #progressBar {
        transition: width 900ms cubic-bezier(.22,.61,.36,1);
        background: linear-gradient(90deg, #0EA5E9, #38BDF8);
        position: relative; overflow: hidden;
      }
      #progressBar::after{
        content:""; position:absolute; inset:0;
        background: linear-gradient(120deg, rgba(255,255,255,0) 0%, rgba(255,255,255,.35) 50%, rgba(255,255,255,0) 100%);
        transform: translateX(-100%); animation: sheen 2.8s infinite;
      }
      @keyframes sheen{ 0%{transform:translateX(-100%)} 60%{transform:translateX(100%)} 100%{transform:translateX(100%)} }

      /* Small currency icons */
      .ic {
        width: 22px; height: 22px; border-radius: 9999px;
        display:inline-flex; align-items:center; justify-content:center;
        background:#E0F2FE; color:#0C4A6E; font-weight:800; font-size:12px;
        box-shadow: inset 0 0 0 1px rgba(2,132,199,.15);
      }
      .ic-rp { background:#F1F5F9; color:#0F172A; }

      /* Tabs underline slider */
      .tab-slider {
        position: absolute; bottom: 0; height: 2px; width: 50%;
        background: #0EA5E9; transition: transform .3s ease;
      }
      .tab-active-left  .tab-slider { transform: translateX(0%); }
      .tab-active-right .tab-slider { transform: translateX(100%); }
    </style>
  </head>

  <body class="font-sans text-slate-800 bg-gradient-to-b from-sky-50 to-white">
    <!-- Toggle Bahasa (opsional) -->
    <div class="fixed bottom-4 right-4 z-50">
      <button id="langToggle" class="rounded-xl bg-sky-600 text-white px-3 py-2 text-sm font-semibold shadow-soft" aria-label="Ubah Bahasa">EN</button>
    </div>

    <!-- Header ringkas -->
    <header class="sticky top-0 z-40 backdrop-blur bg-white/70 border-b border-slate-200/70">
      <nav class="container mx-auto px-4 py-3 flex items-center justify-between">
        <div class="flex items-center gap-3">
          <img src="logohekinan.jpeg" alt="Logo" class="h-10 w-auto" loading="lazy">
          <span class="font-extrabold text-slate-900 text-lg">Masjid As-Sunnah Hekinan</span>
        </div>
        <a href="#donasi" class="rounded-2xl bg-sky-600 hover:bg-sky-700 text-white text-sm font-semibold px-4 py-2 shadow-soft">Donasi Sekarang</a>
      </nav>
    </header>

    <!-- Tentang -->
    <section id="tentang" class="container mx-auto px-4 py-10">
      <div class="grid md:grid-cols-2 gap-10 items-center">
        <img src="1.jpeg" alt="Bangunan masjid" class="rounded-2xl shadow-soft" loading="lazy">
        <div>
          <h2 class="text-2xl md:text-3xl font-extrabold text-slate-900">Tentang Program</h2>
          <p class="mt-4 text-slate-700 leading-relaxed">
            Kami berikhtiar melunasi <span class="font-semibold">pembelian bangunan</span> Masjid As-Sunnah Hekinan. Dukungan Anda sangat berarti.
          </p>
        </div>
      </div>
    </section>

    <!-- Progres + Donasi -->
    <section id="progres" class="bg-white border-y border-slate-200/70">
      <div class="container mx-auto px-4 py-12">
        <div class="grid lg:grid-cols-3 gap-8 items-start">
          <div class="lg:col-span-2">
            <h2 class="text-2xl md:text-3xl font-extrabold text-slate-900">Progres Pelunasan</h2>
            <p class="mt-2 text-slate-700">Target pelunasan dan nominal terkumpul diperbarui berkala.</p>

            <div class="mt-6 p-6 rounded-2xl border border-slate-200 bg-slate-50">
              <div class="flex items-end justify-between gap-4">
                <div>
                  <p class="text-sm text-slate-600">Terkumpul</p>
                  <p class="text-2xl md:text-3xl font-extrabold text-slate-900" id="terkumpulLabel">JPY 0</p>
                </div>
                <div class="text-right">
                  <p class="text-sm text-slate-600">Target</p>
                  <p class="text-xl md:text-2xl font-extrabold text-slate-900" id="targetLabel">JPY 0</p>
                </div>
              </div>

              <div class="mt-4 w-full bg-white rounded-full border border-slate-200 overflow-hidden" aria-label="Progress bar">
                <div id="progressBar" class="h-3" style="width:0%"></div>
              </div>
              <div class="mt-2 text-sm text-slate-600"><span id="percentLabel">0</span>% tercapai</div>

              <!-- ========== Donasi (bebas JPY atau IDR, TANPA konversi) ========== -->
              <div class="mt-6 rounded-2xl border border-slate-200 bg-white p-5">
                <!-- Tabs -->
                <div id="currencyTabs" class="relative tab-active-left">
                  <div class="flex gap-2">
                    <button data-cur="JPY" id="tabJPY" class="flex-1 rounded-xl px-4 py-2 text-sm font-semibold border border-slate-300 bg-slate-50 hover:bg-slate-100 focus:bg-sky-50 focus:border-sky-500">
                      <span class="ic mr-2">¥</span> Input JPY
                    </button>
                    <button data-cur="IDR" id="tabIDR" class="flex-1 rounded-xl px-4 py-2 text-sm font-semibold border border-slate-300 bg-slate-50 hover:bg-slate-100 focus:bg-sky-50 focus:border-sky-500">
                      <span class="ic ic-rp mr-2">Rp</span> Input IDR
                    </button>
                  </div>
                  <span class="tab-slider"></span>
                </div>

                <!-- Fields -->
                <div class="mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3">
                  <div class="rounded-xl border border-slate-200 bg-slate-50 p-4">
                    <label for="inputJPY" class="flex items-center gap-2 text-sm font-semibold text-slate-700">
                      <span class="ic" aria-hidden="true">¥</span> Masukkan Donasi JPY
                    </label>
                    <input id="inputJPY" type="number" inputmode="numeric" min="0" step="100"
                      placeholder="Nominal dalam JPY"
                      class="mt-2 w-full rounded-xl border border-slate-300 bg-white px-4 py-3 focus:border-sky-600"/>
                  </div>
                  <div class="rounded-xl border border-slate-200 bg-slate-50 p-4">
                    <label for="inputIDR" class="flex items-center gap-2 text-sm font-semibold text-slate-700">
                      <span class="ic ic-rp" aria-hidden="true">Rp</span> Masukkan Donasi IDR
                    </label>
                    <input id="inputIDR" type="number" inputmode="numeric" min="0" step="1000"
                      placeholder="Nominal dalam IDR"
                      class="mt-2 w-full rounded-xl border border-slate-300 bg-white px-4 py-3 focus:border-sky-600"/>
                  </div>
                </div>

                <!-- Dua kartu tampil angka berdampingan -->
                <div class="mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3">
                  <div id="cardJPY" class="rounded-xl border border-slate-200 bg-slate-50 p-4">
                    <div class="flex items-center gap-2">
                      <span class="ic" aria-hidden="true">¥</span>
                      <span class="text-sm font-semibold">donasi（JPY）</span>
                    </div>
                    <p class="mt-2 text-xl md:text-2xl font-extrabold tracking-tight text-slate-900 amount">—</p>
                  </div>
                  <div id="cardIDR" class="rounded-xl border border-slate-200 bg-slate-50 p-4">
                    <div class="flex items-center gap-2">
                      <span class="ic ic-rp" aria-hidden="true">Rp</span>
                      <span class="text-sm font-semibold">donasi（IDR）</span>
                    </div>
                    <p class="mt-2 text-xl md:text-2xl font-extrabold tracking-tight text-slate-900 amount">—</p>
                  </div>
                </div>

                <!-- Quick buttons menyesuaikan TAB aktif, TANPA konversi -->
                <div class="mt-4 grid grid-cols-2 md:grid-cols-4 gap-3">
                  <button class="quick-btn rounded-xl border border-slate-300 hover:border-sky-600 px-4 py-2">5.000</button>
                  <button class="quick-btn rounded-xl border border-slate-300 hover:border-sky-600 px-4 py-2">10.000</button>
                  <button class="quick-btn rounded-xl border border-slate-300 hover:border-sky-600 px-4 py-2">20.000</button>
                  <button class="quick-btn rounded-xl border border-slate-300 hover:border-sky-600 px-4 py-2">50.000</button>
                </div>

                <div class="mt-4">
                  <button id="donasiBtn" class="w-full rounded-2xl bg-sky-600 hover:bg-sky-700 text-white font-semibold px-6 py-3">
                    Lanjut Donasi
                  </button>
                  <p class="mt-2 text-[11px] text-slate-500">
                    Minimal: 1.000 JPY <em>atau</em> 10.000 IDR. Pilih tab sesuai mata uang yang Anda donasikan.
                  </p>
                </div>
              </div>
              <!-- ========== /Donasi bebas mata uang ========== -->

              <p class="mt-3 text-xs text-slate-500">* Donasi via transfer bank (Jepang/Indonesia). Setelah klik “Lanjut Donasi”, konfirmasi via WhatsApp.</p>
            </div>
          </div>

          <!-- Rekening -->
          <aside class="lg:col-span-1">
            <div class="rounded-2xl border border-slate-200 bg-white p-6">
              <h3 class="text-lg font-bold text-slate-900">Rekening Donasi</h3>

              <div class="mt-4 rounded-xl border border-slate-200 p-4">
                <p class="text-sm font-semibold text-slate-900">🇯🇵 Jepang — Yucho Bank</p>
                <ul class="mt-2 text-sm text-slate-700 space-y-1">
                  <li>a.n. <span class="font-medium">Yoshimine Adelfa</span></li>
                  <li>No. Rekening: <span class="font-medium" id="rekYucho">12160-00457031</span></li>
                </ul>
                <div class="mt-3">
                  <button data-copy="#rekYucho" class="copy-btn rounded-lg border border-slate-300 px-3 py-1 text-xs hover:border-sky-600">Salin No. Rek</button>
                </div>
              </div>

              <div class="mt-4 rounded-xl border border-slate-200 p-4">
                <p class="text-sm font-semibold text-slate-900">🇮🇩 Indonesia — Bank Syariah Indonesia</p>
                <ul class="mt-2 text-sm text-slate-700 space-y-1">
                  <li>a.n. <span class="font-medium">DKM Masjid As-Sunnah Hekinan</span></li>
                  <li>No. Rekening: <span class="font-medium" id="rekBsi">nomor akan diupdate</span></li>
                </ul>
                <div class="mt-3">
                  <button data-copy="#rekBsi" class="copy-btn rounded-lg border border-slate-300 px-3 py-1 text-xs hover:border-sky-600">Salin No. Rek</button>
                </div>
              </div>

              <p class="mt-3 text-xs text-slate-500">Setelah transfer, mohon kirim bukti via WhatsApp agar dicatat oleh admin.</p>
            </div>
          </aside>
        </div>
      </div>
    </section>

    <!-- Donasi CTA -->
    <section id="donasi" class="container mx-auto px-4 py-12">
      <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-soft">
        <h3 class="text-lg font-bold text-slate-900">Terima kasih atas dukungannya!</h3>
        <p class="mt-2 text-sm text-slate-600">Berapapun donasi Anda sangat berarti untuk pelunasan pembelian bangunan masjid.</p>
      </div>
    </section>

    <!-- Footer -->
    <footer class="bg-white">
      <div class="container mx-auto px-4 py-10">
        <div class="grid md:grid-cols-3 gap-8">
          <div>
            <img src="logohekinan.jpeg" alt="Logo Masjid As-Sunnah Hekinan" class="h-12 w-auto mb-3" loading="lazy">
            <h3 class="font-bold text-slate-900">Masjid As-Sunnah Hekinan</h3>
            <p class="mt-2 text-sm text-slate-700">1 Chome-8 Dojoyamamachi, Hekinan, Aichi 447-0864</p>
            <p class="mt-1 text-sm text-slate-700">Email: hekinanmosque@gmail.com</p>
          </div>
          <div>
            <h3 class="font-bold text-slate-900">Tautan</h3>
            <ul class="mt-2 space-y-2 text-sm">
              <li><a href="#tentang" class="hover:text-sky-700">Tentang</a></li>
              <li><a href="#progres" class="hover:text-sky-700">Progres</a></li>
              <li><a href="#donasi" class="hover:text-sky-700">Donasi</a></li>
            </ul>
          </div>
          <div>
            <h3 class="font-bold text-slate-900">Ikuti Kami</h3>
            <ul class="mt-2 space-y-2 text-sm">
              <li><a href="https://www.instagram.com/assunnahhekinan" target="_blank" rel="noopener" class="hover:text-sky-700">Instagram</a></li>
              <li><a href="https://www.youtube.com/@assunnahhekinan" target="_blank" rel="noopener" class="hover:text-sky-700">YouTube</a></li>
            </ul>
          </div>
        </div>
        <div class="mt-8 border-t border-slate-200 pt-6 text-xs text-slate-500 flex flex-col md:flex-row justify-between">
          <p>© <span id="year"></span> Masjid As-Sunnah Hekinan. Semua hak cipta dilindungi.</p>
          <p>Designed with ♥️ abu khayla.</p>
        </div>
      </div>
    </footer>

    <!-- Modal -->
    <div id="modal" class="fixed inset-0 bg-black/40 backdrop-blur-sm hidden items-center justify-center p-4">
      <div class="w-full max-w-lg rounded-2xl bg-white p-6 shadow-soft">
        <div class="flex items-start justify-between gap-4">
          <h3 class="text-lg font-bold text-slate-900">Lanjutkan Donasi</h3>
          <button id="closeModal" class="text-slate-500 hover:text-slate-700" aria-label="Tutup">✕</button>
        </div>
        <p class="mt-2 text-sm text-slate-700">
          Nominal: <span id="nominalFinal" class="font-semibold">—</span>
        </p>
        <div class="mt-4">
          <a id="viaWA" href="#" target="_blank" rel="noopener" class="block rounded-2xl border border-slate-300 hover:border-sky-600 px-4 py-3 text-center">
            Konfirmasi via WhatsApp
          </a>
          <p class="mt-3 text-xs text-slate-500 text-center">Setelah transfer ke rekening Jepang atau Indonesia, silakan kirim bukti.</p>
        </div>
      </div>
    </div>

    <script>
      /* ===== Konfigurasi Progres (JPY) ===== */
      const TARGET = 42000000;     // JPY
      const TERKUMPUL = 5290797;   // JPY
      const WA_NUMBER = '818013909425';
      const MIN_JPY = 1000;
      const MIN_IDR = 10000;

      /* ===== Helpers ===== */
      const fmtJPY = (n, lang='id') => new Intl.NumberFormat(lang, { style:'currency', currency:'JPY', maximumFractionDigits:0 }).format(n||0);
      const fmtIDR = (n) => new Intl.NumberFormat('id-ID', { style:'currency', currency:'IDR', maximumFractionDigits:0 }).format(n||0);
      const clamp = (n, min, max) => Math.max(min, Math.min(n, max));

      /* ===== Progres render ===== */
      function renderProgress(){
        const percent = TARGET > 0 ? Math.round((TERKUMPUL / TARGET) * 100) : 0;
        const terkumpul = document.getElementById('terkumpulLabel'); if (terkumpul) terkumpul.textContent = fmtJPY(TERKUMPUL);
        const target = document.getElementById('targetLabel'); if (target) target.textContent = fmtJPY(TARGET);
        document.getElementById('percentLabel').textContent = clamp(percent,0,100);
        const bar = document.getElementById('progressBar');
        if (bar){ bar.style.width = '0%'; requestAnimationFrame(()=> setTimeout(()=> bar.style.width = clamp(percent,0,100) + '%', 40)); }
      }

      /* ===== Kartu Donasi (tanpa konversi) ===== */
      function renderCards(){
        const jpy = Number(document.getElementById('inputJPY').value) || 0;
        const idr = Number(document.getElementById('inputIDR').value) || 0;
        document.querySelector('#cardJPY .amount').textContent = jpy > 0 ? fmtJPY(jpy) : '—';
        document.querySelector('#cardIDR .amount').textContent = idr > 0 ? fmtIDR(idr) : '—';
      }

      /* ===== Tabs mata uang aktif ===== */
      let activeCur = 'JPY';
      function setActiveTab(cur){
        activeCur = cur;
        const tabs = document.getElementById('currencyTabs');
        tabs.classList.toggle('tab-active-left',  cur === 'JPY');
        tabs.classList.toggle('tab-active-right', cur === 'IDR');
        // placeholder & steps quick button akan menyesuaikan label saja (angka tetap manual/non-konversi)
        updateQuickButtons();
      }

      function parseNumberFromLabel(s){
        // Ambil angka mentah dari label seperti "5.000" -> 5000
        return Number(String(s).replaceAll('.', '').replaceAll(',', '').trim());
      }

      function updateQuickButtons(){
        const btns = document.querySelectorAll('.quick-btn');
        if (activeCur === 'JPY'){
          const labels = ['5.000','10.000','20.000','50.000']; // JPY
          btns.forEach((b,i)=> b.textContent = labels[i] || b.textContent);
        } else {
          const labels = ['50.000','100.000','200.000','500.000']; // IDR
          btns.forEach((b,i)=> b.textContent = labels[i] || b.textContent);
        }
      }

      /* ===== Modal ===== */
      function openModal(amount, currency){
        const nominalFinal = document.getElementById('nominalFinal');
        nominalFinal.textContent = currency === 'JPY' ? fmtJPY(amount) : fmtIDR(amount);
        const msg = encodeURIComponent(
          `Assalamu'alaikum, saya ingin donasi sebesar ${currency === 'JPY' ? fmtJPY(amount) : fmtIDR(amount)} untuk pelunasan Masjid As-Sunnah Hekinan.`
        );
        document.getElementById('viaWA').href = 'https://wa.me/' + WA_NUMBER + '?text=' + msg;
        const m = document.getElementById('modal'); m.classList.remove('hidden'); m.classList.add('flex');
      }

      /* ===== INIT ===== */
      window.addEventListener('DOMContentLoaded', () => {
        document.getElementById('year').textContent = new Date().getFullYear?.() || new Date().getFullYear();
        renderProgress();
        renderCards();
        updateQuickButtons();

        // Tabs
        document.getElementById('tabJPY').addEventListener('click', ()=> setActiveTab('JPY'));
        document.getElementById('tabIDR').addEventListener('click', ()=> setActiveTab('IDR'));

        // Input listeners (tanpa konversi—hanya tampil)
        document.getElementById('inputJPY').addEventListener('input', renderCards);
        document.getElementById('inputIDR').addEventListener('input', renderCards);

        // Quick buttons: isi ke field sesuai tab aktif (tanpa konversi)
        document.querySelectorAll('.quick-btn').forEach(btn => {
          btn.addEventListener('click', () => {
            const v = parseNumberFromLabel(btn.textContent);
            if (activeCur === 'JPY'){
              document.getElementById('inputJPY').value = v;
            } else {
              document.getElementById('inputIDR').value = v;
            }
            renderCards();
          });
        });

        // Donasi action
        document.getElementById('donasiBtn').addEventListener('click', () => {
          const valJPY = Number(document.getElementById('inputJPY').value) || 0;
          const valIDR = Number(document.getElementById('inputIDR').value) || 0;

          if (activeCur === 'JPY'){
            if (valJPY < MIN_JPY) { alert(`Minimal donasi ${fmtJPY(MIN_JPY)} untuk JPY.`); return; }
            openModal(valJPY, 'JPY');
          } else {
            if (valIDR < MIN_IDR) { alert(`Minimal donasi ${fmtIDR(MIN_IDR)} untuk IDR.`); return; }
            openModal(valIDR, 'IDR');
          }
        });

        // Modal close
        document.getElementById('closeModal').addEventListener('click', () => {
          const m = document.getElementById('modal'); m.classList.add('hidden'); m.classList.remove('flex');
        });
        document.getElementById('modal').addEventListener('click', (e) => {
          if (e.target.id === 'modal') document.getElementById('closeModal').click();
        });

        // Copy buttons
        document.querySelectorAll('.copy-btn').forEach(btn => {
          btn.addEventListener('click', () => {
            const sel = btn.getAttribute('data-copy'); const t = document.querySelector(sel); if (!t) return; btn.disabled = true;
            navigator.clipboard.writeText(String(t.textContent).replace(/\s+/g,'')).then(()=>{
              const o=btn.textContent; btn.textContent = 'Disalin!'; setTimeout(()=>{ btn.textContent=o; btn.disabled=false; }, 1200);
            });
          });
        });

        // Lang toggle (opsional tampilan)
        document.getElementById('langToggle').addEventListener('click', () => {
          const el = document.documentElement;
          el.lang = el.lang === 'id' ? 'en' : 'id';
          document.getElementById('langToggle').textContent = el.lang === 'id' ? 'EN' : 'ID';
        });
      });
    </script>
  </body>
</html>
