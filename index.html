<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Masjid As-Sunnah Hekinan — Bantu Pelunasan Pembelian Bangunan Untuk Masjid</title>
    <meta name="description" content="Landing page resmi Masjid As-Sunnah Hekinan. Yuk ikut berkontribusi dalam donasi pelunasan pembelian bangunan untuk masjid.">
    <meta property="og:title" content="Masjid As-Sunnah Hekinan — Bantu Pelunasan" />
    <meta property="og:description" content="Yuk ikut berkontribusi dalam donasi pelunasan pembelian bangunan untuk masjid." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://images.unsplash.com/photo-1549649950-1c1a9f2d6cb1?q=80&w=1200&auto=format&fit=crop" />
    <meta name="theme-color" content="#0ea5e9" />

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: { sans: ["Inter","ui-sans-serif","system-ui","-apple-system","Segoe UI","Roboto","Noto Sans","Ubuntu","Cantarell","Helvetica Neue","Arial","sans-serif"] },
            boxShadow: { soft: "0 10px 25px -15px rgba(0,0,0,0.3)" },
          },
        },
      };
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
      html { scroll-behavior: smooth; }
      :focus-visible { outline: 3px solid #38bdf8; outline-offset: 2px; border-radius: .5rem; }
      @media print { nav, .no-print { display: none !important; } .print\:block{ display:block !important; } }
    </style>
  </head>

  <body class="font-sans text-slate-800 bg-gradient-to-b from-sky-50 to-white">
    <!-- Header -->
    <header class="sticky top-0 z-40 backdrop-blur bg-white/70 border-b border-slate-200/70">
      <nav class="container mx-auto px-4 py-3 flex items-center justify-between">
        <div class="flex items-center gap-3">
          <a href="#home" class="flex items-center gap-3">
            <img src="logohekinan.jpeg" alt="Logo Masjid As-Sunnah Hekinan" class="h-10 w-auto">
            <span class="font-extrabold text-slate-900 text-lg">Masjid As-Sunnah Hekinan</span>
          </a>
          <a href="https://www.google.com/maps?q=1%20Chome-8%20Dojoyamamachi,%20Hekinan,%20Aichi%20447-0864"
             target="_blank" rel="noopener"
             class="hidden sm:inline-flex items-center gap-1 text-xs ml-3 px-2 py-1 rounded-full bg-slate-100 text-slate-700 hover:bg-slate-200">
            <span aria-hidden="true">📍</span>
            <span>1 Chome-8 Dojoyamamachi, Hekinan, Aichi 447-0864</span>
          </a>
        </div>
        <div class="hidden md:flex items-center gap-6 text-sm">
          <a href="#tentang" class="hover:text-sky-700">Tentang</a>
          <a href="#progres" class="hover:text-sky-700">Progres</a>
          <a href="#donasi" class="hover:text-sky-700">Donasi</a>
          <a href="#galeri" class="hover:text-sky-700">Galeri</a>
          <a href="#lokasi" class="hover:text-sky-700">Lokasi</a>
          <a href="#faq" class="hover:text-sky-700">FAQ</a>
        </div>
        <a href="#donasi" class="rounded-2xl bg-sky-600 hover:bg-sky-700 text-white text-sm font-semibold px-4 py-2 shadow-soft">Donasi Sekarang</a>
      </nav>
    </header>

    <!-- Hero -->
    <section id="home" class="relative overflow-hidden">
      <div class="absolute inset-0 -z-10">
        <img src="masjid-hero.jpg?v=2" alt="Masjid As-Sunnah Hekinan"
             class="w-full h-full object-cover opacity-25" loading="lazy">
      </div>

      <div class="container mx-auto px-4 py-24 md:py-32 text-center">
        <img src="logohekinan.jpeg" alt="Logo" class="mx-auto h-24 w-auto mb-6" loading="lazy">
        <p class="inline-block bg-white/70 backdrop-blur px-3 py-1 rounded-full text-sky-700 text-xs font-semibold mb-4">
          Ayo Bantu Pelunasan Pembelian Bangunan Untuk Masjid
        </p>
        <h1 class="text-3xl md:text-5xl font-extrabold text-slate-900">
          Wujudkan Kenyamanan Ibadah di <span class="text-sky-600">Masjid As-Sunnah Hekinan</span>
        </h1>
        <p class="mt-4 text-base md:text-lg text-slate-700 max-w-2xl mx-auto">
          Setiap kontribusi Anda menjadi amal jariyah. Mari bersama mewujudkan rumah ibadah yang nyaman untuk kaum Muslimin di Hekinan dan sekitarnya.
        </p>
        <div class="mt-8 flex justify-center gap-4">
          <a href="#donasi" class="rounded-2xl bg-sky-600 hover:bg-sky-700 text-white font-semibold px-6 py-3 shadow-soft">Donasi Sekarang</a>
          <a href="#tentang" class="rounded-2xl border border-slate-300 hover:border-slate-400 text-slate-700 font-semibold px-6 py-3 bg-white/80 backdrop-blur">Pelajari Lebih Lanjut</a>
        </div>
      </div>
    </section>

    <!-- Tentang -->
    <section id="tentang" class="container mx-auto px-4 py-16">
      <div class="grid md:grid-cols-2 gap-10 items-center">
        <div>
          <img src="https://images.unsplash.com/photo-1622126577887-bea6389c4d8e?q=80&w=1200&auto=format&fit=crop" alt="Ilustrasi pembangunan" class="rounded-2xl shadow-soft">
        </div>
        <div>
          <h2 class="text-2xl md:text-3xl font-extrabold text-slate-900">Tentang Program</h2>
          <p class="mt-4 text-slate-700 leading-relaxed">
            Kami sedang berikhtiar melunasi <span class="font-semibold">pembelian bangunan</span> yang akan digunakan sebagai Masjid As-Sunnah Hekinan. Dana juga dialokasikan untuk renovasi dasar: area wudhu, area akhwat, perpustakaan, dan aksesibilitas.
          </p>
          <ul class="mt-6 space-y-3 text-slate-700">
            <li class="flex gap-3"><span class="text-sky-600">✓</span> Lokasi strategis, parkir luas & ramah lingkungan</li>
            <li class="flex gap-3"><span class="text-sky-600">✓</span> Menampung ±400 jamaah</li>
            <li class="flex gap-3"><span class="text-sky-600">✓</span> Mendukung kajian, TPA, dan kegiatan sosial</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Progres Donasi -->
    <section id="progres" class="bg-white border-y border-slate-200/70">
      <div class="container mx-auto px-4 py-16">
        <div class="grid lg:grid-cols-3 gap-8 items-start">
          <div class="lg:col-span-2">
            <h2 class="text-2xl md:text-3xl font-extrabold text-slate-900">Progres Pelunasan</h2>
            <p class="mt-2 text-slate-700">Target pelunasan dan nominal yang sudah terkumpul diperbarui berkala.</p>

            <div class="mt-6 p-6 rounded-2xl border border-slate-200 bg-slate-50">
              <div class="flex items-end justify-between gap-4">
                <div>
                  <p class="text-sm text-slate-600">Terkumpul</p>
                  <p class="text-2xl md:text-3xl font-extrabold text-slate-900" id="terkumpulLabel">JPY 0</p>
                </div>
                <div class="text-right">
                  <p class="text-sm text-slate-600">Target</p>
                  <p class="text-xl md:text-2xl font-extrabold text-slate-900" id="targetLabel">JPY 0</p>
                </div>
              </div>

              <div class="mt-4 w-full bg-white rounded-full border border-slate-200 overflow-hidden" aria-label="Progress bar">
                <div id="progressBar" class="h-3 bg-sky-600" style="width:0%"></div>
              </div>
              <div class="mt-2 text-sm text-slate-600"><span id="percentLabel">0</span>% tercapai</div>

              <div class="mt-6 grid grid-cols-2 md:grid-cols-4 gap-3">
                <button data-quick="5000" class="quick-btn rounded-xl border border-slate-300 hover:border-sky-600 px-4 py-2">JPY 5.000</button>
                <button data-quick="10000" class="quick-btn rounded-xl border border-slate-300 hover:border-sky-600 px-4 py-2">JPY 10.000</button>
                <button data-quick="20000" class="quick-btn rounded-xl border border-slate-300 hover:border-sky-600 px-4 py-2">JPY 20.000</button>
                <button data-quick="Unlimited" class="quick-btn rounded-xl border border-slate-300 hover:border-sky-600 px-4 py-2">Unlimited</button>
              </div>

              <form id="donasiForm" class="mt-4 flex flex-col sm:flex-row gap-3" onsubmit="return false">
                <label for="nominalInput" class="sr-only">Nominal Donasi</label>
                <input id="nominalInput" type="number" min="10000" step="1000" placeholder="Masukkan nominal (JPY)" class="flex-1 rounded-xl border border-slate-300 px-4 py-3 focus:border-sky-600" />
                <button id="donasiBtn" class="rounded-2xl bg-sky-600 hover:bg-sky-700 text-white font-semibold px-6 py-3">Lanjut Donasi</button>
              </form>

              <p class="mt-3 text-xs text-slate-500">* Donasi via transfer bank (Jepang/Indonesia). Setelah klik “Lanjut Donasi”, konfirmasi via WhatsApp.</p>
            </div>
          </div>

          <!-- Rekening -->
          <aside class="lg:col-span-1">
            <div class="rounded-2xl border border-slate-200 bg-white p-6">
              <h3 class="text-lg font-bold text-slate-900">Rekening Donasi</h3>

              <div class="mt-4 rounded-xl border border-slate-200 p-4">
                <p class="text-sm font-semibold text-slate-900">🇯🇵 Jepang — Yucho Bank</p>
                <ul class="mt-2 text-sm text-slate-700 space-y-1">
                  <li>a.n. <span class="font-medium">Yoshimine Adelfa</span></li>
                  <li>No. Rekening: <span class="font-medium" id="rekYucho">12160-00457031</span></li>
                </ul>
                <div class="mt-3">
                  <button data-copy="#rekYucho" class="copy-btn rounded-lg border border-slate-300 px-3 py-1 text-xs hover:border-sky-600">Salin No. Rek</button>
                </div>
              </div>

              <div class="mt-4 rounded-xl border border-slate-200 p-4">
                <p class="text-sm font-semibold text-slate-900">🇮🇩 Indonesia — Bank Syariah Indonesia</p>
                <ul class="mt-2 text-sm text-slate-700 space-y-1">
                  <li>a.n. <span class="font-medium">DKM Masjid As-Sunnah Hekinan</span></li>
                  <li>No. Rekening: <span class="font-medium" id="rekBsi">nomor akan diupdate</span></li>
                </ul>
                <div class="mt-3">
                  <button data-copy="#rekBsi" class="copy-btn rounded-lg border border-slate-300 px-3 py-1 text-xs hover:border-sky-600">Salin No. Rek</button>
                </div>
              </div>

              <p class="mt-3 text-xs text-slate-500">Setelah transfer, mohon kirim bukti via WhatsApp agar dicatat oleh admin.</p>
            </div>
          </aside>
        </div>
      </div>
    </section>

    <!-- Donasi CTA -->
    <section id="donasi" class="container mx-auto px-4 py-16">
      <div class="grid lg:grid-cols-2 gap-8 items-center">
        <div class="order-2 lg:order-1">
          <h2 class="text-2xl md:text-3xl font-extrabold text-slate-900">Donasi Pelunasan</h2>
          <p class="mt-3 text-slate-700">
            Pilih nominal, lalu konfirmasi via WhatsApp setelah transfer ke rekening Jepang atau Indonesia.
          </p>
          <div class="mt-6 flex flex-wrap gap-3 no-print">
            <a href="#progres" class="rounded-2xl bg-sky-600 hover:bg-sky-700 text-white font-semibold px-6 py-3">Pilih Nominal</a>
            <a id="ctaWA" href="https://wa.me/818013909425?text=Assalamu%27alaikum%2C+saya+ingin+donasi+untuk+Masjid+As-Sunnah+Hekinan" target="_blank" rel="noopener" class="rounded-2xl border border-slate-300 hover:border-sky-600 px-6 py-3">
              Konfirmasi via WhatsApp
            </a>
          </div>
          <div class="print:block hidden mt-6 text-sm">
            <p><span class="font-semibold">Catatan:</span> Simpan halaman ini sebagai bukti transfer. Jazaakumullah khairan wa baarakallah fiikum atas donasinya.</p>
          </div>
        </div>

        <div class="order-1 lg:order-2">
          <div class="rounded-2xl border border-slate-200 bg-white p-4 md:p-6 shadow-soft">
            <svg viewBox="0 0 600 420" role="img" aria-labelledby="donasiTitle" class="w-full h-auto">
              <title id="donasiTitle">Ilustrasi Donasi</title>
              <circle cx="480" cy="100" r="90" fill="#E0F2FE" />
              <circle cx="120" cy="80" r="60" fill="#F1F5F9" />
              <circle cx="60"  cy="330" r="80" fill="#ECFEFF" />
              <rect x="110" y="160" rx="18" ry="18" width="380" height="200" fill="#FFFFFF" stroke="#0EA5E9" stroke-width="6"/>
              <rect x="230" y="190" width="140" height="16" rx="8" fill="#334155"/>
              <path d="M300 302c-22-20-50-35-50-64 0-17 13-30 30-30 10 0 19 5 24 12 5-7 14-12 24-12 17 0 30 13 30 30 0 29-28 44-50 64z" fill="#EF4444"/>
              <g><circle cx="360" cy="130" r="38" fill="#FBBF24"/><circle cx="360" cy="130" r="24" fill="#FDE68A"/></g>
              <g opacity="0.6"><circle cx="420" cy="90" r="26" fill="#FBBF24"/><circle cx="420" cy="90" r="16" fill="#FDE68A"/></g>
            </svg>
            <p class="mt-2 text-center text-xs text-slate-500">Berapapun donasi anda akan sangat membantu pelunasan pembelian bangunan untuk masjid.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- GALERI -->
    <section id="galeri" class="bg-white border-y border-slate-200/70">
      <div class="container mx-auto px-4 py-16">
        <div class="flex items-center justify-between mb-6">
          <h2 class="text-2xl md:text-3xl font-extrabold text-slate-900">Galeri Kegiatan</h2>
          <div class="hidden md:flex items-center gap-2">
            <button class="galeri-btn-prev rounded-xl border border-slate-300 px-3 py-2 hover:border-sky-600" aria-label="Sebelumnya">◀</button>
            <button class="galeri-btn-next rounded-xl border border-slate-300 px-3 py-2 hover:border-sky-600" aria-label="Berikutnya">▶</button>
          </div>
        </div>

        <div class="relative">
          <!-- Track -->
          <div id="galeriTrack"
               class="flex transition-transform duration-500 ease-out overflow-hidden rounded-2xl border border-slate-200"
               data-index="0" data-autoplay="true" data-interval="4500">
            <!-- Foto-foto: gunakan data-file="1|2|3|4" (resolver akan cari ekstensi yang cocok) -->
            <figure class="min-w-full h-[360px] md:h-[540px] bg-black flex items-center justify-center">
              <img data-file="1" alt="Kegiatan 1" class="block w-full h-full object-cover"
                   onerror="this.closest('figure').style.display='none'">
            </figure>
            <figure class="min-w-full h-[360px] md:h-[540px] bg-black flex items-center justify-center">
              <img data-file="2" alt="Kegiatan 2" class="block w-full h-full object-cover"
                   onerror="this.closest('figure').style.display='none'">
            </figure>
            <figure class="min-w-full h-[360px] md:h-[540px] bg-black flex items-center justify-center">
              <img data-file="3" alt="Kegiatan 3" class="block w-full h-full object-cover"
                   onerror="this.closest('figure').style.display='none'">
            </figure>
            <figure class="min-w-full h-[360px] md:h-[540px] bg-black flex items-center justify-center">
              <img data-file="4" alt="Kegiatan 4" class="block w-full h-full object-cover"
                   onerror="this.closest('figure').style.display='none'">
            </figure>
            <!-- Video (opsional) -->
            <figure class="min-w-full h-[360px] md:h-[540px] bg-black flex items-center justify-center">
              <video class="w-full h-full object-cover" muted playsinline preload="metadata" data-video-slide controlslist="nodownload noplaybackrate">
                <source src="video1.mp4" type="video/mp4">
                Browser Anda tidak mendukung video.
              </video>
            </figure>
          </div>

          <!-- Controls mobile -->
          <div class="md:hidden absolute inset-y-0 left-0 flex items-center">
            <button class="galeri-btn-prev m-2 rounded-full bg-white/80 hover:bg-white p-2 shadow-soft" aria-label="Sebelumnya">◀</button>
          </div>
          <div class="md:hidden absolute inset-y-0 right-0 flex items-center">
            <button class="galeri-btn-next m-2 rounded-full bg-white/80 hover:bg-white p-2 shadow-soft" aria-label="Berikutnya">▶</button>
          </div>

          <!-- Dots -->
          <div id="galeriDots" class="mt-4 flex items-center justify-center gap-2"></div>
        </div>

        <p class="mt-4 text-center text-xs text-slate-500">
          Geser di layar sentuh, atau gunakan tombol ◀ ▶. Slider berjalan otomatis dan berhenti saat di‑hover.
        </p>
      </div>
    </section>

    <!-- LOKASI -->
    <section id="lokasi" class="bg-white border-t border-slate-200/70">
      <div class="container mx-auto px-4 py-16">
        <div class="grid lg:grid-cols-2 gap-8 items-start">
          <div>
            <h2 class="text-2xl md:text-3xl font-extrabold text-slate-900">Lokasi Masjid</h2>
            <p class="mt-3 text-slate-700">
              Alamat: <span id="alamat" class="font-semibold">1 Chome-8 Dojoyamamachi, Hekinan, Aichi 447-0864</span>
            </p>
            <div class="mt-4 flex gap-3">
              <a href="https://www.google.com/maps?q=1%20Chome-8%20Dojoyamamachi,%20Hekinan,%20Aichi%20447-0864" target="_blank" rel="noopener" class="rounded-2xl bg-sky-600 hover:bg-sky-700 text-white font-semibold px-5 py-3">Buka di Google Maps</a>
              <button id="copyAlamat" class="rounded-2xl border border-slate-300 hover:border-sky-600 px-5 py-3">Salin Alamat</button>
            </div>
            <p class="mt-3 text-xs text-slate-500">Gunakan tombol di atas untuk navigasi langsung ke lokasi.</p>
          </div>
          <div class="rounded-2xl overflow-hidden border border-slate-200">
            <iframe title="Peta Masjid As-Sunnah Hekinan" src="https://www.google.com/maps?q=1%20Chome-8%20Dojoyamamachi,%20Hekinan,%20Aichi%20447-0864&output=embed" loading="lazy" referrerpolicy="no-referrer-when-downgrade" class="w-full h-[320px] md:h-[420px]"></iframe>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="bg-white">
      <div class="container mx-auto px-4 py-10">
        <div class="grid md:grid-cols-3 gap-8">
          <div>
            <img src="logohekinan.jpeg" alt="Logo Masjid As-Sunnah Hekinan" class="h-12 w-auto mb-3" loading="lazy">
            <h3 class="font-bold text-slate-900">Masjid As-Sunnah Hekinan</h3>
            <p class="mt-2 text-sm text-slate-700">
              Alamat: <a class="hover:text-sky-700" target="_blank" rel="noopener" href="https://www.google.com/maps?q=1%20Chome-8%20Dojoyamamachi,%20Hekinan,%20Aichi%20447-0864">1 Chome-8 Dojoyamamachi, Hekinan, Aichi 447-0864</a>
            </p>
            <p class="mt-1 text-sm text-slate-700">Email: dkm@masjidhekinan.org</p>
          </div>
          <div>
            <h3 class="font-bold text-slate-900">Tautan</h3>
            <ul class="mt-2 space-y-2 text-sm">
              <li><a href="#tentang" class="hover:text-sky-700">Tentang</a></li>
              <li><a href="#progres" class="hover:text-sky-700">Progres</a></li>
              <li><a href="#donasi" class="hover:text-sky-700">Donasi</a></li>
              <li><a href="#galeri" class="hover:text-sky-700">Galeri</a></li>
              <li><a href="#lokasi" class="hover:text-sky-700">Lokasi</a></li>
              <li><a href="#faq" class="hover:text-sky-700">FAQ</a></li>
            </ul>
          </div>
          <div>
            <h3 class="font-bold text-slate-900">Ikuti Kami</h3>
            <ul class="mt-2 space-y-2 text-sm">
              <li><a href="#" class="hover:text-sky-700">Instagram</a></li>
              <li><a href="#" class="hover:text-sky-700">Facebook</a></li>
              <li><a href="#" class="hover:text-sky-700">YouTube</a></li>
            </ul>
          </div>
        </div>
        <div class="mt-8 border-t border-slate-200 pt-6 text-xs text-slate-500 flex flex-col md:flex-row justify-between">
          <p>© <span id="year"></span> Masjid As-Sunnah Hekinan. Semua hak cipta dilindungi.</p>
          <p>Designed with ♥️ wahyu.</p>
        </div>
      </div>
    </footer>

    <!-- Modal (tanpa QRIS) -->
    <div id="modal" class="fixed inset-0 bg-black/40 backdrop-blur-sm hidden items-center justify-center p-4">
      <div class="w-full max-w-lg rounded-2xl bg-white p-6 shadow-soft">
        <div class="flex items-start justify-between gap-4">
          <h3 class="text-lg font-bold text-slate-900">Lanjutkan Donasi</h3>
          <button id="closeModal" aria-label="Tutup" class="text-slate-500 hover:text-slate-700">✕</button>
        </div>
        <p class="mt-2 text-sm text-slate-700">Nominal: <span id="nominalFinal" class="font-semibold">JPY 0</span></p>
        <div class="mt-4">
          <a id="viaWA" href="#" target="_blank" rel="noopener" class="block rounded-2xl border border-slate-300 hover:border-sky-600 px-4 py-3 text-center">Konfirmasi via WhatsApp</a>
          <p class="mt-3 text-xs text-slate-500 text-center">Setelah transfer ke rekening Jepang atau Indonesia, silakan kirim bukti.</p>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script>
      /* ===== Variabel donasi ===== */
      const TARGET = 42000000;
      const TERKUMPUL = 1000000;
      const WA_NUMBER = '818013909425';

      const JPY = (n) => new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'JPY', maximumFractionDigits: 0 }).format(n);
      const clamp = (n, min, max) => Math.max(min, Math.min(n, max));
      const copyText = (text, btn) => navigator.clipboard.writeText(text).then(() => {
        if (!btn) return; const o = btn.textContent; btn.textContent = 'Disalin!'; setTimeout(()=>btn.textContent=o,1200);
      });

      function renderProgress() {
        const percent = TARGET > 0 ? Math.round((TERKUMPUL / TARGET) * 100) : 0;
        document.getElementById('terkumpulLabel').textContent = JPY(TERKUMPUL);
        document.getElementById('targetLabel').textContent = JPY(TARGET);
        document.getElementById('percentLabel').textContent = clamp(percent, 0, 100);
        document.getElementById('progressBar').style.width = clamp(percent, 0, 100) + '%';
      }

      function openModal(n) {
        document.getElementById('nominalFinal').textContent = JPY(n);
        const msg = encodeURIComponent(`Assalamu'alaikum, saya ingin donasi sebesar ${JPY(n)} untuk pelunasan Masjid As-Sunnah Hekinan. Saya akan transfer ke rekening Jepang/Indonesia lalu kirim bukti.`);
        document.getElementById('viaWA').href = `https://wa.me/${WA_NUMBER}?text=${msg}`;
        const m = document.getElementById('modal'); m.classList.remove('hidden'); m.classList.add('flex');
      }

      window.addEventListener('DOMContentLoaded', () => {
        document.getElementById('year').textContent = new Date().getFullYear();
        renderProgress();

        document.querySelectorAll('.copy-btn').forEach(btn => {
          btn.addEventListener('click', () => {
            const sel = btn.getAttribute('data-copy'); const t = document.querySelector(sel); if (!t) return;
            copyText(t.textContent.replace(/\s/g,''), btn);
          });
        });

        document.getElementById('copyAlamat')?.addEventListener('click', (e) => {
          copyText(document.getElementById('alamat').textContent.trim(), e.currentTarget);
        });

        document.querySelectorAll('.quick-btn').forEach(btn => {
          btn.addEventListener('click', () => {
            const v = Number(btn.dataset.quick); const i = document.getElementById('nominalInput');
            i.value = isNaN(v) ? '' : v; i.focus();
          });
        });

        document.getElementById('donasiBtn').addEventListener('click', () => {
          const v = Number(document.getElementById('nominalInput').value);
          if (!v || v < 10000) return alert('Minimal donasi JPY 10.000');
          openModal(v);
        });

        document.getElementById('closeModal').addEventListener('click', () => {
          const m = document.getElementById('modal'); m.classList.add('hidden'); m.classList.remove('flex');
        });
        document.getElementById('modal').addEventListener('click', (e) => {
          if (e.target.id === 'modal') document.getElementById('closeModal').click();
        });
      });
    </script>

    <!-- ===== Resolver ekstensi gambar galeri: cari .jpeg/.jpg/.JPG/.png/.webp ===== -->
    <script>
      (function resolveGalleryImages(){
        const exts = ['.jpeg', '.jpg', '.JPG', '.png', '.webp'];
        const imgs = document.querySelectorAll('#galeriTrack img[data-file]');
        imgs.forEach(img => {
          const base = img.getAttribute('data-file'); // contoh: "2" -> coba 2.jpeg, 2.jpg, dst.
          tryNext(0);
          function tryNext(i){
            if (i >= exts.length) { console.warn('Gambar tidak ditemukan untuk', base); return; }
            const url = `${base}${exts[i]}`;
            fetch(url, { method:'HEAD' })
              .then(res => {
                if (res.ok) { img.src = url; }
                else { tryNext(i+1); }
              })
              .catch(() => tryNext(i+1));
          }
        });
      })();
    </script>

    <!-- ===== Galeri Slider (foto + video) ===== -->
    <script>
      (function(){
        const track = document.getElementById('galeriTrack');
        if (!track) return;

        const slides = Array.from(track.children);
        let index = 0;
        let timer = null;
        const intervalImg = Number(track.dataset.interval || 4500);

        // Dots
        const dotsWrap = document.getElementById('galeriDots');
        const dots = slides.map((_, i) => {
          const b = document.createElement('button');
          b.className = 'w-2.5 h-2.5 rounded-full bg-slate-300 aria-[current=true]:bg-sky-600';
          b.setAttribute('aria-label', 'Ke slide ' + (i+1));
          b.addEventListener('click', () => go(i, true));
          dotsWrap.appendChild(b);
          return b;
        });

        // Controls
        document.querySelectorAll('.galeri-btn-prev').forEach(btn => btn.addEventListener('click', () => go(index-1, true)));
        document.querySelectorAll('.galeri-btn-next').forEach(btn => btn.addEventListener('click', () => go(index+1, true)));

        // Swipe
        let startX = null;
        track.addEventListener('touchstart', e => startX = e.touches[0].clientX, {passive:true});
        track.addEventListener('touchend', e => {
          if (startX === null) return;
          const dx = e.changedTouches[0].clientX - startX;
          if (Math.abs(dx) > 40) go(index + (dx < 0 ? 1 : -1), true);
          startX = null;
        });

        // Hover pause
        track.addEventListener('mouseenter', pause);
        track.addEventListener('mouseleave', resume);

        function updateUI(){
          track.style.transform = `translateX(-${index*100}%)`;
          dots.forEach((d,i)=> d.setAttribute('aria-current', i===index));
        }

        function onVideoEnded(){ go(index+1); }

        function scheduleNext(){
          const v = slides[index]?.querySelector('video[data-video-slide]');
          if (v){
            try {
              v.currentTime = 0;
              v.play().catch(()=>{});
              v.removeEventListener('ended', onVideoEnded);
              v.addEventListener('ended', onVideoEnded, {once:false});
            } catch(e){}
            timer = setTimeout(()=> go(index+1), Math.max((v.duration||6)*1000, 4000));
            return;
          }
          timer = setTimeout(()=> go(index+1), intervalImg);
        }

        function go(i){
          clearTimeout(timer);
          const prev = slides[index]?.querySelector('video[data-video-slide]');
          if (prev){ prev.pause(); prev.currentTime = 0; prev.removeEventListener('ended', onVideoEnded); }

          index = (i + slides.length) % slides.length;
          updateUI();
          if (track.dataset.autoplay === 'true') scheduleNext();
        }

        function pause(){ clearTimeout(timer); track.dataset.autoplay = 'false'; }
        function resume(){ track.dataset.autoplay = 'true'; scheduleNext(); }

        // init
        updateUI(); scheduleNext();
      })();
    </script>
  </body>
</html>
